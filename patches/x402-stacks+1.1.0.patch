diff --git a/node_modules/x402-stacks/dist/client.js b/node_modules/x402-stacks/dist/client.js
index 7341732..51ef6fa 100644
--- a/node_modules/x402-stacks/dist/client.js
+++ b/node_modules/x402-stacks/dist/client.js
@@ -24,6 +24,55 @@ class X402PaymentClient {
                 'Content-Type': 'application/json',
             },
         });
+        // Nonce tracking: maps sender address -> { nonce, lastUpdated }
+        this.nonceCache = new Map();
+    }
+    /**
+     * Get next nonce with local tracking
+     * Uses cache to handle rapid sequential payments
+     */
+    async getNextNonce(address, network) {
+        const cacheKey = address;
+        const cached = this.nonceCache.get(cacheKey);
+        const now = Date.now();
+
+        // If we have a cached nonce from recent use (within 30s), increment and use it
+        if (cached && (now - cached.lastUpdated) < 30000) {
+            cached.nonce = cached.nonce + BigInt(1);
+            cached.lastUpdated = now;
+            return cached.nonce;
+        }
+
+        // Otherwise fetch fresh nonce from API
+        const networkStr = network instanceof network_1.StacksMainnet ? 'mainnet' : 'testnet';
+        const baseUrl = networkStr === 'mainnet'
+            ? 'https://api.mainnet.hiro.so'
+            : 'https://api.testnet.hiro.so';
+        const url = `${baseUrl}/v2/accounts/${address}?proof=0`;
+
+        try {
+            const response = await this.httpClient.get(url);
+            const fetchedNonce = BigInt(response.data.nonce);
+
+            // Store in cache for subsequent requests
+            this.nonceCache.set(cacheKey, {
+                nonce: fetchedNonce,
+                lastUpdated: now
+            });
+
+            return fetchedNonce;
+        }
+        catch (error) {
+            console.warn('Failed to fetch nonce from v2/accounts, falling back to default:', error);
+            return undefined;
+        }
+    }
+    /**
+     * Fetch the correct nonce from /v2/accounts endpoint
+     * The extended API nonces endpoint can return stale data
+     */
+    async fetchCorrectNonce(address, network) {
+        return this.getNextNonce(address, network);
     }
     /**
      * Get Stacks network instance from network type
@@ -113,6 +162,10 @@ class X402PaymentClient {
                 : details.network;
             // Get sender address from private key
             const senderAddress = (0, transactions_1.getAddressFromPrivateKey)(details.senderKey, network instanceof network_1.StacksMainnet ? transactions_1.TransactionVersion.Mainnet : transactions_1.TransactionVersion.Testnet);
+            // Fetch correct nonce from v2/accounts (not the stale extended API)
+            const nonce = details.nonce !== undefined
+                ? details.nonce
+                : await this.fetchCorrectNonce(senderAddress, network);
             // Build transaction options
             const txOptions = {
                 recipient: details.recipient,
@@ -121,7 +174,7 @@ class X402PaymentClient {
                 network,
                 memo: details.memo || '',
                 anchorMode: transactions_1.AnchorMode.Any,
-                ...(details.nonce !== undefined && { nonce: details.nonce }),
+                ...(nonce !== undefined && { nonce }),
                 ...(details.fee !== undefined && { fee: details.fee }),
             };
             // Create transaction (signed but not broadcast)
@@ -153,6 +206,10 @@ class X402PaymentClient {
                 : details.network;
             // Get sender address from private key
             const senderAddress = (0, transactions_1.getAddressFromPrivateKey)(details.senderKey, network instanceof network_1.StacksMainnet ? transactions_1.TransactionVersion.Mainnet : transactions_1.TransactionVersion.Testnet);
+            // Fetch correct nonce from v2/accounts (not the stale extended API)
+            const nonce = details.nonce !== undefined
+                ? details.nonce
+                : await this.fetchCorrectNonce(senderAddress, network);
             // Validate token contract
             if (!details.tokenContract) {
                 throw new Error('Token contract required for sBTC transfers');
@@ -175,7 +232,7 @@ class X402PaymentClient {
                 network,
                 anchorMode: transactions_1.AnchorMode.Any,
                 postConditionMode: transactions_1.PostConditionMode.Allow,
-                ...(details.nonce !== undefined && { nonce: details.nonce }),
+                ...(nonce !== undefined && { nonce }),
                 ...(details.fee !== undefined && { fee: details.fee }),
             };
             // Create transaction (signed but not broadcast)
@@ -323,6 +380,10 @@ class X402PaymentClient {
                 : details.network;
             // Get sender address from private key
             const senderAddress = (0, transactions_1.getAddressFromPrivateKey)(details.senderKey, network instanceof network_1.StacksMainnet ? transactions_1.TransactionVersion.Mainnet : transactions_1.TransactionVersion.Testnet);
+            // Fetch correct nonce from v2/accounts (not the stale extended API)
+            const nonce = details.nonce !== undefined
+                ? details.nonce
+                : await this.fetchCorrectNonce(senderAddress, network);
             // Validate token contract
             if (!details.tokenContract) {
                 throw new Error('Token contract required for USDCx transfers');
@@ -345,7 +406,7 @@ class X402PaymentClient {
                 network,
                 anchorMode: transactions_1.AnchorMode.Any,
                 postConditionMode: transactions_1.PostConditionMode.Allow,
-                ...(details.nonce !== undefined && { nonce: details.nonce }),
+                ...(nonce !== undefined && { nonce }),
                 ...(details.fee !== undefined && { fee: details.fee }),
             };
             // Create transaction (signed but not broadcast)
diff --git a/node_modules/x402-stacks/dist/verifier.js b/node_modules/x402-stacks/dist/verifier.js
index ef81503..44accc0 100644
--- a/node_modules/x402-stacks/dist/verifier.js
+++ b/node_modules/x402-stacks/dist/verifier.js
@@ -17,7 +17,7 @@ class X402PaymentVerifier {
         this.facilitatorUrl = facilitatorUrl;
         this.network = network;
         this.httpClient = axios_1.default.create({
-            timeout: 15000,
+            timeout: 120000, // 2 minutes for sBTC contract calls
             headers: {
                 'Content-Type': 'application/json',
             },
