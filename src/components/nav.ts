/**
 * Shared navigation bar component for all pages
 * STX402 Directory branding: dark background, orange accents
 */

export function getNavCSS(): string {
  return `
    /* Custom navigation bar */
    .stx402-nav {
      position: sticky;
      top: 0;
      height: 64px;
      background: #09090b;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      z-index: 1000;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    .stx402-nav-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: #fafafa;
      font-weight: 600;
      font-size: 18px;
    }
    .stx402-nav-brand svg {
      width: 48px;
      height: 48px;
      border-radius: 6px;
    }
    .stx402-nav-links {
      display: flex;
      gap: 10px;
    }
    .stx402-nav-link {
      color: #a1a1aa;
      text-decoration: none;
      font-size: 15px;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: all 0.15s ease;
    }
    .stx402-nav-link:hover {
      color: #fafafa;
      background: rgba(255, 255, 255, 0.06);
    }
    .stx402-nav-link.active {
      color: #f7931a;
      background: rgba(247, 147, 26, 0.12);
    }

    /* Mobile responsive styles */
    @media (max-width: 640px) {
      .stx402-nav {
        height: 56px;
        padding: 0 12px;
      }
      .stx402-nav-brand span {
        display: none;
      }
      .stx402-nav-brand svg {
        width: 40px;
        height: 40px;
      }
      .stx402-nav-links {
        gap: 4px;
        flex-shrink: 0;
      }
      .stx402-nav-link {
        font-size: 13px;
        padding: 6px 10px;
        white-space: nowrap;
      }
    }
    @media (max-width: 400px) {
      .stx402-nav-link {
        font-size: 12px;
        padding: 5px 8px;
      }
    }
  `;
}

export type ActivePage = "docs" | "dashboard" | "guide" | "toolbox" | "about";

export function getNavHTML(activePage: ActivePage): string {
  const links = [
    { href: "/", label: "API Docs", page: "docs" as const },
    { href: "/dashboard", label: "Dashboard", page: "dashboard" as const },
    { href: "/guide", label: "Guide", page: "guide" as const },
    { href: "/toolbox", label: "Toolbox", page: "toolbox" as const },
    { href: "/about", label: "About", page: "about" as const },
  ];

  return `
  <nav class="stx402-nav">
    <a href="/" class="stx402-nav-brand">
      <svg viewBox="0 0 273 273" xmlns="http://www.w3.org/2000/svg" style="filter: drop-shadow(0 2px 4px rgba(252, 100, 50, 0.3));">
        <defs>
          <linearGradient id="nav-logo-gradient" x1="273" y1="273" x2="9" y2="8" gradientUnits="userSpaceOnUse">
            <stop offset="1" stop-color="#FC6432"/>
          </linearGradient>
        </defs>
        <rect width="273" height="273" fill="url(#nav-logo-gradient)"/>
        <path d="M62.8523 134.605L54.5426 135.116C54.4006 134.406 54.0952 133.767 53.6264 133.199C53.1577 132.616 52.5398 132.155 51.7727 131.814C51.0199 131.459 50.1179 131.281 49.0668 131.281C47.6605 131.281 46.4744 131.58 45.5085 132.176C44.5426 132.759 44.0597 133.54 44.0597 134.52C44.0597 135.301 44.3722 135.962 44.9972 136.501C45.6222 137.041 46.6946 137.474 48.2145 137.801L54.1378 138.994C57.3196 139.648 59.6918 140.699 61.2543 142.148C62.8168 143.597 63.598 145.5 63.598 147.858C63.598 150.003 62.9659 151.885 61.7017 153.504C60.4517 155.124 58.733 156.388 56.5455 157.297C54.3722 158.192 51.8651 158.639 49.0241 158.639C44.6918 158.639 41.2401 157.737 38.669 155.933C36.1122 154.115 34.6136 151.643 34.1733 148.518L43.1009 148.05C43.3707 149.371 44.0241 150.379 45.0611 151.075C46.098 151.757 47.4261 152.098 49.0455 152.098C50.6364 152.098 51.9148 151.793 52.8807 151.182C53.8608 150.557 54.358 149.754 54.3722 148.774C54.358 147.95 54.0099 147.276 53.3281 146.75C52.6463 146.21 51.5952 145.798 50.1747 145.514L44.5071 144.385C41.3111 143.746 38.9318 142.638 37.3693 141.061C35.821 139.484 35.0469 137.474 35.0469 135.031C35.0469 132.929 35.6151 131.118 36.7514 129.598C37.902 128.078 39.5142 126.906 41.5881 126.082C43.6761 125.259 46.1193 124.847 48.9176 124.847C53.0511 124.847 56.304 125.72 58.6761 127.467C61.0625 129.214 62.4545 131.594 62.8523 134.605ZM86.5785 125.273V132.091H66.8697V125.273H86.5785ZM71.3441 117.432H80.4208V147.943C80.4208 148.781 80.5486 149.435 80.8043 149.903C81.06 150.358 81.4151 150.678 81.8697 150.862C82.3384 151.047 82.8782 151.139 83.489 151.139C83.9151 151.139 84.3412 151.104 84.7674 151.033C85.1935 150.947 85.5202 150.884 85.7475 150.841L87.1751 157.595C86.7205 157.737 86.0813 157.901 85.2574 158.085C84.4336 158.284 83.4322 158.405 82.2532 158.447C80.0657 158.533 78.1481 158.241 76.5003 157.574C74.8668 156.906 73.5955 155.869 72.6864 154.463C71.7773 153.057 71.3299 151.281 71.3441 149.136V117.432ZM100.991 125.273L106.999 136.714L113.157 125.273H122.468L112.987 141.636L122.724 158H113.455L106.999 146.686L100.65 158H91.2749L100.991 141.636L91.6158 125.273H100.991ZM125.913 150.33V143.064L144.13 114.364H150.394V124.42H146.687L135.203 142.595V142.936H161.091V150.33H125.913ZM146.858 158V148.114L147.028 144.896V114.364H155.679V158H146.858ZM183.147 158.959C179.482 158.945 176.329 158.043 173.687 156.253C171.059 154.463 169.035 151.871 167.614 148.476C166.208 145.081 165.512 140.997 165.526 136.224C165.526 131.466 166.229 127.411 167.636 124.058C169.056 120.706 171.08 118.156 173.708 116.409C176.35 114.648 179.496 113.767 183.147 113.767C186.797 113.767 189.937 114.648 192.565 116.409C195.207 118.17 197.238 120.727 198.658 124.08C200.079 127.418 200.782 131.466 200.768 136.224C200.768 141.011 200.057 145.102 198.637 148.497C197.231 151.892 195.214 154.484 192.586 156.274C189.958 158.064 186.812 158.959 183.147 158.959ZM183.147 151.31C185.647 151.31 187.643 150.053 189.134 147.538C190.626 145.024 191.364 141.253 191.35 136.224C191.35 132.915 191.009 130.159 190.327 127.957C189.66 125.756 188.708 124.101 187.472 122.993C186.251 121.885 184.809 121.331 183.147 121.331C180.661 121.331 178.672 122.574 177.181 125.06C175.69 127.545 174.937 131.267 174.922 136.224C174.922 139.577 175.256 142.375 175.924 144.619C176.606 146.849 177.565 148.526 178.8 149.648C180.036 150.756 181.485 151.31 183.147 151.31ZM206.146 158V151.352L221.679 136.97C223 135.692 224.108 134.541 225.003 133.518C225.912 132.496 226.601 131.494 227.069 130.514C227.538 129.52 227.773 128.447 227.773 127.297C227.773 126.018 227.481 124.918 226.899 123.994C226.317 123.057 225.521 122.339 224.513 121.842C223.504 121.331 222.361 121.075 221.082 121.075C219.747 121.075 218.582 121.345 217.588 121.885C216.594 122.425 215.827 123.199 215.287 124.207C214.747 125.216 214.477 126.416 214.477 127.808H205.72C205.72 124.953 206.366 122.474 207.659 120.372C208.952 118.27 210.763 116.643 213.092 115.493C215.422 114.342 218.106 113.767 221.146 113.767C224.271 113.767 226.991 114.321 229.307 115.429C231.636 116.523 233.447 118.043 234.74 119.989C236.032 121.935 236.679 124.165 236.679 126.679C236.679 128.327 236.352 129.953 235.699 131.558C235.059 133.163 233.916 134.946 232.268 136.906C230.621 138.852 228.298 141.189 225.301 143.916L218.93 150.159V150.457H237.254V158H206.146Z" fill="white"/>
      </svg>
      <span>STX402</span>
    </a>
    <div class="stx402-nav-links">
      ${links.map(link =>
        `<a href="${link.href}" class="stx402-nav-link${link.page === activePage ? " active" : ""}">${link.label}</a>`
      ).join("\n      ")}
    </div>
  </nav>`;
}
